<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>社員基本情報一覧画面</title>
  <link rel="stylesheet" href="bootstrap.min.css">
</head>
<body>
<div class="container">
  <div class="col-md-6 col-md-offset-3">
    <h1 style="padding-top: 30px;padding-bottom: 15px;">社員基本情報一覧画面</h1>
    <div id="app">
      <!--书籍列表部分-->
      <table class="table table-hover" id="table" border="1">
        <captiopn></captiopn>
        <thead>
        <tr>
          <th>社員番号</th>
          <th>姓名</th>
          <th>生年月日</th>
          <th>国籍</th>
          <th>性別</th>
          <th>操作</th>
        </tr>
        </thead>
        <tbody id="tbody">
        <tr>
          <td>111111</td>
          <td>山田花子</td>
          <td>1991-01-12</td>
          <td>日本</td>
          <td>女性</td>
          <td>
            <button class="btn btn-danger" type="button" class="del" onclick="delRow(this);">删除</button>
            <button class="btn btn-success" type="button" class="edit" onclick="editRow(this)">修改</button>
<!--            <button class="btn btn-success" type="button" class="add" onclick="addRow(this)">添加</button>-->
          </td>
        </tr>
        <tr>
          <td>222222</td>
          <td>彭于晏</td>
          <td>1991-11-24</td>
          <td>中国</td>
          <td>男性</td>
          <td>
            <button class="btn btn-danger" type="button" class="del" onclick="delRow(this);">删除</button>
            <button class="btn btn-success" type="button" class="edit" onclick="editRow(this)">修改</button>
<!--            <button class="btn btn-success" type="button" class="add" onclick="addRow(this)">添加</button>-->
          </td>
        </tr>
        <tr>
          <td>3333</td>
          <td>Damon</td>
          <td>1992-05-16</td>
          <td>アメリカ</td>
          <td>不明</td>
          <td>
            <button class="btn btn-danger" type="button" class="del" onclick="delRow(this)">删除</button>
            <button class="btn btn-success" type="button" class="edit" onclick="editRow(this)">修改</button>
<!--            <button class="btn btn-success" type="button" class="add" onclick="addRow(this)">添加</button>-->
          </td>
        </tr>
<!--        <tr>-->
<!--          <td></td>-->
<!--          <td>水浒传</td>-->
<!--          <td>施耐庵</td>-->
<!--          <td>42</td>-->
<!--          <td>-->
<!--            <button class="btn btn-danger" type="button" class="del" onclick="delRow(this)">删除</button>-->
<!--            <button class="btn btn-success" type="button" class="edit" onclick="editRow(this)">修改</button>-->
<!--            <button class="btn btn-success" type="button" class="add" onclick="addRow(this)">添加</button>-->
<!--          </td>-->
<!--        </tr>-->
        </tbody>
      </table>
      <!--添加书籍模块-->
<!--      <div id="addBook" style="display:none">-->
<!--        <legend>情報新規</legend>-->
<!--        <div class="form-group">-->
<!--          <label for="group">社員番号</label>-->
<!--          <input type="text" class="form-control" id="id">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="group">姓名</label>-->
<!--          <input type="text" class="form-control" id="group">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="author">生年月日</label>-->
<!--          <input type="text" class="form-control" id="author">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="price">国籍</label>-->
<!--          <input type="text" class="form-control" id="price">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--        <label for="price">性別</label>-->
<!--        <input type="text" class="form-control" id="gender">-->
<!--      </div>-->
<!--        <button class="btn btn-primary btn-block" onclick="add()">添加</button>-->
<!--&lt;!&ndash;        <button class="btn btn-primary btn-block" onclick="reset()">重置</button>&ndash;&gt;-->
<!--        <button class="btn btn-primary btn-block" onclick="addCancel()">取消</button>-->
<!--      </div>-->
<!--      <br>-->
      <!--修改书籍模块-->
      <div id="editBook" style="display:none">
<!--        <legend>修改书籍</legend>-->
        <table border="1">

        <tr>
          <div class="form-group">
          <td><label for="group1" >社員番号</label></td>
          <td><input type="text" class="form-control" id="id1"></td>
          </div>
        </tr>
        <tr>
          <div class="form-group">
          <td><label for="group1">姓名</label></td>
          <td><input type="text" class="form-control" id="group1"></td>
          </div>
        </tr>
        <tr>
          <div class="form-group">
          <td><label for="author1">生年月日</label></td>
          <td><input type="text" class="form-control" id="author1"></td>
          </div>
        </tr>
        <tr>
          <div class="form-group">
          <td><label for="price1">国籍</label></td>
          <td><input type="text" class="form-control" id="price1"></td>
          </div>
        </tr>
        <tr>
          <div class="form-group">
          <td><label for="price1">性別</label></td>
          <td><input type="text" class="form-control" id="gender1"></td>
          </div>
        </tr>




<!--        <div class="form-group">-->
<!--          <label for="group1" >社員番号</label>-->
<!--          <input type="text" class="form-control" id="id1">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="group1">姓名</label>-->
<!--          <input type="text" class="form-control" id="group1">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="author1">生年月日</label>-->
<!--          <input type="text" class="form-control" id="author1">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="price1">国籍</label>-->
<!--          <input type="text" class="form-control" id="price1">-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label for="price1">性別</label>-->
<!--          <input type="text" class="form-control" id="gender1">-->
<!--        </div>-->
        </table>
        <button class="btn btn-primary btn-block" onclick="complete()">完成</button>
        <!--        <button class="btn btn-primary btn-block" onclick="editReset()">重置</button>-->
<!--        <button class="btn btn-primary btn-block" onclick="editCancel()">取消</button>-->
      </div>
    </div>
  </div>
</div>
<script>
  //加载页面的时候自动调用
  // addNumber();
  //自动添加序号，更新序号
  // function addNumber() {
  //   var len = document.getElementById('tbody').rows;
  //   for(var i=0; i<len.length; i++) {
  //     len[i].cells[0].innerText = i + 1;
  //   }
  // }
  //获取点击的那一行的行号
  function getRow(r) {
    var i = r.parentNode.parentNode.rowIndex;
    return i;
  }
  //添加重置，清零
  // function reset() {
  //   document.getElementById('group').value = '';
  //   document.getElementById('author').value = '';
  //   document.getElementById('price').value = '';
  // }
  //删除某一行
  function delRow(r) {
    document.getElementById('table').deleteRow(getRow(r));
    addNumber();
  }
  /*添加某一行*/
  //点击添加按钮，弹出添加框
  // function addRow(r) {
  //   // reset();
  //   document.getElementById('addBook').style = "display: block";
  //   lineNumber = getRow(r);//把该行号赋给全局变量
  // }
  //将需要添加的数据更新到列表中
  // function add() {
  //   var arr = new Array();
  //   arr[0] = document.getElementById('id').value;
  //   arr[1] = document.getElementById('group').value;
  //   arr[2] = document.getElementById('author').value;
  //   arr[3] = document.getElementById('price').value;
  //   arr[4] = document.getElementById('gender').value;
  //   arr[5] = '<button class="btn btn-danger" type="button" class="del" onclick="delRow(this);">删除</button>\n' +
  //           '                        <button class="btn btn-success" type="button" class="edit" onclick="editRow(this)">修改</button>\n' //+
  //           // '                        <button class="btn btn-success" type="button" class="add" onclick="addRow(this)">添加</button>'
  //   var x = document.getElementById('table').insertRow(lineNumber + 0);//在点击的那一行上面添加一行
  //   for(var i=0; i<arr.length; i++){
  //     x.insertCell(i).innerHTML = arr[i];
  //   }
  //   addNumber();
  //   document.getElementById('addBook').style = "display: none";
  // }
  /*修改某一行*/
  //点击修改按钮，弹出修改框
  function editRow(r) {
    editLineNumber = getRow(r);
    document.getElementById('editBook').style = "display: block";
    editReset();
    /*var arr = new Array();
    for(var i=0; i<3; i++) {
        arr[i] = document.getElementById('table').rows[editLineNumber].cells[i+1].innerText;
    }
    document.getElementById('group1').value = arr[0];
    document.getElementById('author1').value = arr[1];
    document.getElementById('price1').value = arr[2];*/
  }
  //将修改后的数据更新到列表里
  function complete() {
    document.getElementById('table').deleteRow(editLineNumber);//删除原来那行
    var arr = new Array();
    arr[0] = document.getElementById('id1').value;
    arr[1] = document.getElementById('group1').value;
    arr[2] = document.getElementById('author1').value;
    arr[3] = document.getElementById('price1').value;
    arr[4] = document.getElementById('gender1').value;
    arr[5] = '<button class="btn btn-danger" type="button" class="del" onclick="delRow(this);">删除</button>\n' +
            '                        <button class="btn btn-success" type="button" class="edit" onclick="editRow(this)">修改</button>\n' //+
            // '                        <button class="btn btn-success" type="button" class="add" onclick="addRow(this)">添加</button>'
    var x = document.getElementById('table').insertRow(editLineNumber);//添加原来那行
    for(var i=0; i<arr.length; i++){
      x.insertCell(i).innerHTML = arr[i];
    }
    addNumber();
    document.getElementById('editBook').style = "display: none";
  }
  //修改框中的值为所选列表中的值
  function editReset() {
    var arr = new Array();
    for(var i=0; i<5; i++) {
      arr[i] = document.getElementById('table').rows[editLineNumber].cells[i+0].innerText;
    }
    document.getElementById('id1').value = arr[0];
    document.getElementById('group1').value = arr[1];
    document.getElementById('author1').value = arr[2];
    document.getElementById('price1').value = arr[3];
    document.getElementById('gender1').value = arr[4];
  }
  //取消添加
  function addCancel() {
    document.getElementById('addBook').style = "display: none";
  }
  //取消编辑
  function editCancel() {
    document.getElementById('editBook').style = "display: none";
  }
</script>
</body>
</html>